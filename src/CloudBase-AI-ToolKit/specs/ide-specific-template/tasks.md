# 实施计划

## 任务列表

- [x] 1. 分析现有IDE配置文件结构
  - 检查 `config/` 目录下所有IDE相关的配置文件和目录
  - 分析 `scripts/fix-config-hardlinks.sh` 中的文件映射关系
  - 整理每个IDE对应的配置文件列表
  - _需求: 需求2

- [x] 2. 定义IDE映射关系表
  - 在 `setup.ts` 中定义 `IDEMapping` 接口
  - 创建 `IDE_MAPPINGS` 常量，包含所有支持的IDE类型
  - 为每个IDE定义对应的配置文件和目录
  - 确保映射关系与硬链接脚本保持一致
  - _需求: 需求2

- [x] 3. 实现IDE验证函数
  - 创建 `validateIDE` 函数，验证用户输入的IDE类型
  - 实现错误处理，返回支持的IDE类型列表
  - 添加单元测试验证函数正确性
  - _需求: 需求1

- [x] 4. 实现文件过滤函数
  - 创建 `filterFilesByIDE` 函数，根据IDE类型过滤文件
  - 实现文件路径匹配逻辑
  - 确保只保留指定IDE相关的配置文件
  - 保持项目基础结构文件不变
  - _需求: 需求1

- [x] 5. 修改downloadTemplate工具
  - 在工具参数中添加可选的 `ide` 参数
  - 更新工具描述，说明IDE特定下载功能
  - 集成IDE验证和文件过滤逻辑
  - 保持向后兼容性（未指定IDE时下载所有文件）
  - _需求: 需求1

- [x] 6. 更新工具文档和类型定义
  - 更新工具的描述文本，说明新增的IDE参数
  - 更新Zod schema，添加IDE参数的类型定义
  - 确保参数文档清晰易懂
  - _需求: 需求1

- [x] 7. 测试和验证
  - 测试不同IDE类型的下载功能
  - 验证文件过滤的正确性
  - 测试向后兼容性
  - 验证错误处理机制
  - _需求: 需求1, 需求2

- [x] 8. 更新相关文档
  - 更新 `doc/ide-setup/` 目录下的IDE配置文档
  - 在文档中说明新的IDE特定下载功能
  - 更新README.md中的相关说明
  - _需求: 需求1

## 实施优先级

1. **高优先级**：任务1-5（核心功能实现）
2. **中优先级**：任务6-7（完善和测试）
3. **低优先级**：任务8（文档更新）

## 风险评估

- **低风险**：向后兼容性良好，不会影响现有功能
- **中风险**：文件过滤逻辑需要仔细测试，确保不丢失重要文件
- **低风险**：IDE映射关系需要与现有配置保持一致 